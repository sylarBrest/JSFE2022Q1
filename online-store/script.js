(()=>{var e={515:()=>{"use strict";console.log("%cOnline-store - Интернет-магазин","font-weight: bold; font-size: 16px"),console.log("https://github.com/rolling-scopes-school/tasks/blob/master/tasks/online-store/README.md\n\n"),console.log("%cСамооценка:","font-weight: bold;"),console.log('\nВыполнены все пункты задания.\n✔️ 1. Страница с товарами содержит карточки всех товаров а также фильтры, строку поиска, поле для сортировки. Выполняются требования к вёрстке +10\n\n✔️ 2. Карточка товара содержит изображение, название, количество товара на складе, модельный год, категорию, размеры колёс и рамы, цвет, является ли товар популярным +10\n\n✔️ 3. Добавление товара в корзину +20\n+ кликая по карточке с товаром или по кнопке на ней товар можно добавлять в корзину или удалять из корзины. Карточки добавленных в корзину товаров внешне отличаются от остальных +10\n+ на странице отображается количество добавленных в корзину товаров. При попытке добавить в корзину больше 20 товаров, выводится всплывающее уведомление с текстом "Извините, все слоты заполнены" +10\n\n✔️ 4. Сортировка +20\n+ сортируются только те товары, которые в данный момент отображаются на странице\n+ сортировка товаров по названию в возрастающем и убывающем порядке +10\n+ сортировка товаров по модельному году в возрастающем и убывающем порядке +10\n\n✔️ 5. Фильтры в указанном диапазоне от и до +30\n+ фильтры по количеству экземпляров на складе +10\n+ фильтры по модельному году +10\n+ для фильтрации в указанном диапазоне используется noUiSlider с двумя ползунками. При перемещении ползунков отображается их текущее значение, разный цвет слайдера до и после ползунка +10\n\n✔️ 6. Фильтры по значению +30\n+ Выбранные фильтры выделяются стилем.\n+ фильтры по производителю +5\n+ фильтры по размеру колёс и размеру рам +5\n+ фильтры по цаету и категории велосипедов +5\n+ можно отобразить только популярные товары +5\n+ можно отфильтровать товары по нескольким фильтрам одного типа +10\n+ Для нескольких фильтров одного типа отображаются товары, которые соответствуют хоть одному выбранному фильтру. Например, можно отобразить велосипеды с разным размером рам.\n\n✔️ 7. Можно отфильтровать товары по нескольким фильтрам разного типа +20\n+ Для нескольких фильтров разного типа отображаются только те товары, которые соответствуют всем выбранным фильтрам.\n+ Например, можно отобразить только велосипеды синего цвета. Или популярные белые и красные велосипеды, выпущенные в 2020-2022 годах.\n+ Если товаров, соответствующих всем выбранным фильтрам нет, на странице выводится уведомление "Извините, совпадений не обнаружено"\n\n✔️ 8. Сброс фильтров +20\n+ есть кнопка "Сбросить фильтры" для сброса фильтров +10\n+ Кнопка "Сбросить фильтры" сбрасывает только фильтры, не влияя на порядок сортировки или товары, добавленные в избранное.\n+ После использования кнопки "Сбросить фильтры" фильтры остаются работоспособными\n+ при сбросе фильтров кнопкой "Сбросить фильтры", ползунки noUiSlider сдвигаются к краям, значения ползунков возвращаются к первоначальным, noUiSlider закрашивается одним цветом +10\n\n✖️ 9. Сохранение настроек в local storage +10\nвыбранные пользователем фильтры, порядок сортировки, добавленные в избранное товара сохраняются при перезагрузке страницы. Есть кнопка сброса настроек, которая очищает local storage +10\n\n✔️ 10. Поиск +30\n+ при открытии приложения курсор находится в поле поиска +2\n+ автозаполнение поля поиска отключено (нет выпадающего списка с предыдущими запросами) +2\n+ есть placeholder +2\n+ в поле поиска есть крестик, позволяющий очистить поле поиска +2\n+ если нет совпадения последовательности букв в поисковом запросе с названием товара, выводится уведомление "Извините, совпадений не обнаружено" +2\n+ при вводе поискового запроса на странице остаются только те товары, в которых есть указанные в поиске буквы в указанном порядке. При этом не обязательно, чтобы буквы были в начале слова. Регистр символов при поиске не учитывается +10\n+ Поиск ведётся только среди товаров, которые в данный момент отображаются на странице.\n+ если очистить поле поиска, на странице отображаются товары, соответствующие всем выбранным фильтрам и настройкам сортировки +10\n'),console.log("%cИтого: 190/200 => 190","font-weight: bold")},570:function(e,t){!function(e){"use strict";function t(e){return"object"==typeof e&&"function"==typeof e.to}function s(e){e.parentElement.removeChild(e)}function n(e){return null!=e}function a(e){e.preventDefault()}function r(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function o(e,t,s){s>0&&(u(e,t),setTimeout((function(){d(e,t)}),s))}function i(e){return Math.max(Math.min(e,100),0)}function l(e){return Array.isArray(e)?e:[e]}function c(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function u(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function d(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function m(e){var t=void 0!==window.pageXOffset,s="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:s?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:s?e.documentElement.scrollTop:e.body.scrollTop}}function p(e,t){return 100/(t-e)}function h(e,t,s){return 100*t/(e[s+1]-e[s])}function f(e,t){for(var s=1;e>=t[s];)s+=1;return s}function g(e,t,s){if(s>=e.slice(-1)[0])return 100;var n=f(s,e),a=e[n-1],r=e[n],o=t[n-1],i=t[n];return o+function(e,t){return h(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([a,r],s)/p(o,i)}function y(e,t,s,n){if(100===n)return n;var a=f(n,e),r=e[a-1],o=e[a];return s?n-r>(o-r)/2?o:r:t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(n-e[a-1],t[a-1]):n}var b,v;e.PipsMode=void 0,(v=e.PipsMode||(e.PipsMode={})).Range="range",v.Steps="steps",v.Positions="positions",v.Count="count",v.Values="values",e.PipsType=void 0,(b=e.PipsType||(e.PipsType={}))[b.None=-1]="None",b[b.NoValue=0]="NoValue",b[b.LargeValue=1]="LargeValue",b[b.SmallValue=2]="SmallValue";var E=function(){function e(e,t,s){var n;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[s||!1],this.xNumSteps=[!1],this.snap=t;var a=[];for(Object.keys(e).forEach((function(t){a.push([l(e[t]),t])})),a.sort((function(e,t){return e[0][0]-t[0][0]})),n=0;n<a.length;n++)this.handleEntryPoint(a[n][1],a[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(e){for(var t=[],s=0;s<this.xNumSteps.length-1;s++)t[s]=h(this.xVal,e,s);return t},e.prototype.getAbsoluteDistance=function(e,t,s){var n,a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);s||e!==this.xPct[a+1]||a++,null===t&&(t=[]);var r=1,o=t[a],i=0,l=0,c=0,u=0;for(n=s?(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);o>0;)i=this.xPct[a+1+u]-this.xPct[a+u],t[a+u]*r+100-100*n>100?(l=i*n,r=(o-100*n)/t[a+u],n=1):(l=t[a+u]*i/100*r,r=0),s?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),o=t[a+u]*r;return e+c},e.prototype.toStepping=function(e){return g(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,s){if(s>=100)return e.slice(-1)[0];var n=f(s,t),a=e[n-1],r=e[n],o=t[n-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([a,r],(s-o)*p(o,t[n]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return y(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,s){var n=f(e,this.xPct);return(100===e||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/s},e.prototype.getNearbySteps=function(e){var t=f(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(c);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var s;if(!r(s="min"===e?0:"max"===e?100:parseFloat(e))||!r(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(s),this.xVal.push(t[0]);var n=Number(t[1]);s?this.xSteps.push(!isNaN(n)&&n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=h([this.xVal[e],this.xVal[e+1]],t,0)/p(this.xPct[e],this.xPct[e+1]);var s=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(s.toFixed(3))-1),a=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=a}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),w={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},S={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},x=".__tooltips",C=".__aria";function k(e,t){if(!r(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function N(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function L(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function P(e,t){if(!r(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function M(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new E(t,e.snap||!1,e.singleStep)}function F(e,t){if(t=l(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function B(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function A(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function z(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function V(e,t){var s,n=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(s=1;s<e.handles;s++)n.push(t);n.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=t}e.connect=n}function T(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function U(e,t){if(!r(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function O(e,t){if(!r(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function D(e,t){var s;if(!r(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!r(t[0])&&!r(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],s=0;s<e.spectrum.xNumSteps.length-1;s++)if(e.padding[0][s]<0||e.padding[1][s]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],a=e.spectrum.xVal[0];if(n/(e.spectrum.xVal[e.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function j(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function R(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var s=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,a=t.indexOf("fixed")>=0,r=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0,i=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0,c=t.indexOf("smooth-steps")>=0;if(a){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");U(e,e.start[1]-e.start[0])}if(i&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:s||r,drag:n,dragAll:l,smoothSteps:c,fixed:a,snap:r,hover:o,unconstrained:i}}function H(e,s){if(!1!==s)if(!0===s||t(s)){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(s)}else{if((s=l(s)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");s.forEach((function(e){if("boolean"!=typeof e&&!t(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=s}}function $(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function I(e,s){if(!t(s))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=s}function _(e,s){if(!function(e){return t(e)&&"function"==typeof e.from}(s))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=s}function X(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function G(e,t){e.documentElement=t}function K(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function Y(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(s){e.cssClasses[s]=e.cssPrefix+t[s]}))):e.cssClasses=t}function W(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:w,format:w},s={step:{r:!1,t:k},keyboardPageMultiplier:{r:!1,t:N},keyboardMultiplier:{r:!1,t:L},keyboardDefaultStep:{r:!1,t:P},start:{r:!0,t:F},connect:{r:!0,t:V},direction:{r:!0,t:j},snap:{r:!1,t:B},animate:{r:!1,t:A},animationDuration:{r:!1,t:z},range:{r:!0,t:M},orientation:{r:!1,t:T},margin:{r:!1,t:U},limit:{r:!1,t:O},padding:{r:!1,t:D},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:I},format:{r:!1,t:_},tooltips:{r:!1,t:H},keyboardSupport:{r:!0,t:X},documentElement:{r:!1,t:G},cssPrefix:{r:!0,t:K},cssClasses:{r:!0,t:Y},handleAttributes:{r:!1,t:$}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:S,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(s).forEach((function(r){if(n(e[r])||void 0!==a[r])s[r].t(t,n(e[r])?e[r]:a[r]);else if(s[r].r)throw new Error("noUiSlider: '"+r+"' is required.")})),t.pips=e.pips;var r=document.createElement("div"),o=void 0!==r.style.msTransform,i=void 0!==r.style.transform;t.transformRule=i?"transform":o?"msTransform":"webkitTransform";return t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function J(t,r,c){var p,h,f,g,y,b,v,E=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},w=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),S=t,k=r.spectrum,N=[],L=[],P=[],M=0,F={},B=t.ownerDocument,A=r.documentElement||B.documentElement,z=B.body,V="rtl"===B.dir||1===r.ort?0:100;function T(e,t){var s=B.createElement("div");return t&&u(s,t),e.appendChild(s),s}function U(e,t){var s=T(e,r.cssClasses.origin),n=T(s,r.cssClasses.handle);if(T(n,r.cssClasses.touchArea),n.setAttribute("data-handle",String(t)),r.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(e){return function(e,t){if(j()||R(t))return!1;var s=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],o=["Home","End"];r.dir&&!r.ort?s.reverse():r.ort&&!r.dir&&(n.reverse(),a.reverse());var i,l=e.key.replace("Arrow",""),c=l===a[0],u=l===a[1],d=l===n[0]||l===s[0]||c,m=l===n[1]||l===s[1]||u,p=l===o[0],h=l===o[1];if(!(d||m||p||h))return!0;if(e.preventDefault(),m||d){var f=d?0:1,g=ye(t)[f];if(null===g)return!1;!1===g&&(g=k.getDefaultStep(L[t],d,r.keyboardDefaultStep)),g*=u||c?r.keyboardPageMultiplier:r.keyboardMultiplier,g=Math.max(g,1e-7),g*=d?-1:1,i=N[t]+g}else i=h?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return me(t,k.toStepping(i),!0,!0),oe("slide",t),oe("update",t),oe("change",t),oe("set",t),!1}(e,t)}))),void 0!==r.handleAttributes){var a=r.handleAttributes[t];Object.keys(a).forEach((function(e){n.setAttribute(e,a[e])}))}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?u(n,r.cssClasses.handleLower):t===r.handles-1&&u(n,r.cssClasses.handleUpper),s}function O(e,t){return!!t&&T(e,r.cssClasses.connect)}function D(e,t){return!(!r.tooltips||!r.tooltips[t])&&T(e.firstChild,r.cssClasses.tooltip)}function j(){return S.hasAttribute("disabled")}function R(e){return h[e].hasAttribute("disabled")}function H(){y&&(re("update"+x),y.forEach((function(e){e&&s(e)})),y=null)}function $(){H(),y=h.map(D),ae("update"+x,(function(e,t,s){if(y&&r.tooltips&&!1!==y[t]){var n=e[t];!0!==r.tooltips[t]&&(n=r.tooltips[t].to(s[t])),y[t].innerHTML=n}}))}function I(e,t){return e.map((function(e){return k.fromStepping(t?k.getStep(e):e)}))}function _(t){var s,n=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return k.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var s=t.values-1,n=100/s,a=[];s--;)a[s]=s*n;return a.push(100),I(a,t.stepped)}return t.mode===e.PipsMode.Positions?I(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return k.fromStepping(k.getStep(k.toStepping(e)))})):t.values:[]}(t),a={},r=k.xVal[0],o=k.xVal[k.xVal.length-1],i=!1,l=!1,c=0;return(s=n.slice().sort((function(e,t){return e-t})),n=s.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==r&&(n.unshift(r),i=!0),n[n.length-1]!==o&&(n.push(o),l=!0),n.forEach((function(s,r){var o,u,d,m,p,h,f,g,y,b,v=s,E=n[r+1],w=t.mode===e.PipsMode.Steps;for(w&&(o=k.xNumSteps[r]),o||(o=E-v),void 0===E&&(E=v),o=Math.max(o,1e-7),u=v;u<=E;u=Number((u+o).toFixed(7))){for(g=(p=(m=k.toStepping(u))-c)/(t.density||1),b=p/(y=Math.round(g)),d=1;d<=y;d+=1)a[(h=c+d*b).toFixed(5)]=[k.fromStepping(h),0];f=n.indexOf(u)>-1?e.PipsType.LargeValue:w?e.PipsType.SmallValue:e.PipsType.NoValue,!r&&i&&u!==E&&(f=0),u===E&&l||(a[m.toFixed(5)]=[u,f]),c=m}})),a}function X(t,s,n){var a,o,i=B.createElement("div"),l=((a={})[e.PipsType.None]="",a[e.PipsType.NoValue]=r.cssClasses.valueNormal,a[e.PipsType.LargeValue]=r.cssClasses.valueLarge,a[e.PipsType.SmallValue]=r.cssClasses.valueSub,a),c=((o={})[e.PipsType.None]="",o[e.PipsType.NoValue]=r.cssClasses.markerNormal,o[e.PipsType.LargeValue]=r.cssClasses.markerLarge,o[e.PipsType.SmallValue]=r.cssClasses.markerSub,o),d=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],m=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function p(e,t){var s=t===r.cssClasses.value,n=s?l:c;return t+" "+(s?d:m)[r.ort]+" "+n[e]}return u(i,r.cssClasses.pips),u(i,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach((function(a){!function(t,a,o){if((o=s?s(a,o):o)!==e.PipsType.None){var l=T(i,!1);l.className=p(o,r.cssClasses.marker),l.style[r.style]=t+"%",o>e.PipsType.NoValue&&((l=T(i,!1)).className=p(o,r.cssClasses.value),l.setAttribute("data-value",String(a)),l.style[r.style]=t+"%",l.innerHTML=String(n.to(a)))}}(a,t[a][0],t[a][1])})),i}function G(){g&&(s(g),g=null)}function K(e){G();var t=_(e),s=e.filter,n=e.format||{to:function(e){return String(Math.round(e))}};return g=S.appendChild(X(t,s,n))}function Y(){var e=p.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||p[t]:e.height||p[t]}function J(e,t,s,n){var a=function(a){var o,i,l=function(e,t,s){var n=0===e.type.indexOf("touch"),a=0===e.type.indexOf("mouse"),r=0===e.type.indexOf("pointer"),o=0,i=0;if(0===e.type.indexOf("MSPointer")&&(r=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(n){var l=function(t){var n=t.target;return n===s||s.contains(n)||e.composed&&e.composedPath().shift()===s};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;o=c[0].pageX,i=c[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;o=u.pageX,i=u.pageY}}return t=t||m(B),(a||r)&&(o=e.clientX+t.x,i=e.clientY+t.y),e.pageOffset=t,e.points=[o,i],e.cursor=a||r,e}(a,n.pageOffset,n.target||t);return!!l&&!(j()&&!n.doNotReject)&&(o=S,i=r.cssClasses.tap,!((o.classList?o.classList.contains(i):new RegExp("\\b"+i+"\\b").test(o.className))&&!n.doNotReject))&&!(e===E.start&&void 0!==l.buttons&&l.buttons>1)&&(!n.hover||!l.buttons)&&(w||l.preventDefault(),l.calcPoint=l.points[r.ort],void s(l,n))},o=[];return e.split(" ").forEach((function(e){t.addEventListener(e,a,!!w&&{passive:!0}),o.push([e,a])})),o}function q(e){var t,s,n,a,o,l,c=100*(e-(t=p,s=r.ort,n=t.getBoundingClientRect(),a=t.ownerDocument,o=a.documentElement,l=m(a),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),s?n.top+l.y-o.clientTop:n.left+l.x-o.clientLeft))/Y();return c=i(c),r.dir?100-c:c}function Z(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ee(e,t)}function Q(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ee(e,t);var s=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);ce(s>0,100*s/t.baseSize,t.locations,t.handleNumbers,t.connect)}function ee(e,t){t.handle&&(d(t.handle,r.cssClasses.active),M-=1),t.listeners.forEach((function(e){A.removeEventListener(e[0],e[1])})),0===M&&(d(S,r.cssClasses.drag),de(),e.cursor&&(z.style.cursor="",z.removeEventListener("selectstart",a))),r.events.smoothSteps&&(t.handleNumbers.forEach((function(e){me(e,L[e],!0,!0,!1,!1)})),t.handleNumbers.forEach((function(e){oe("update",e)}))),t.handleNumbers.forEach((function(e){oe("change",e),oe("set",e),oe("end",e)}))}function te(e,t){if(!t.handleNumbers.some(R)){var s;1===t.handleNumbers.length&&(s=h[t.handleNumbers[0]].children[0],M+=1,u(s,r.cssClasses.active)),e.stopPropagation();var n=[],o=J(E.move,A,Q,{target:e.target,handle:s,connect:t.connect,listeners:n,startCalcPoint:e.calcPoint,baseSize:Y(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:L.slice()}),i=J(E.end,A,ee,{target:e.target,handle:s,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),l=J("mouseout",A,Z,{target:e.target,handle:s,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers});n.push.apply(n,o.concat(i,l)),e.cursor&&(z.style.cursor=getComputedStyle(e.target).cursor,h.length>1&&u(S,r.cssClasses.drag),z.addEventListener("selectstart",a,!1)),t.handleNumbers.forEach((function(e){oe("start",e)}))}}function se(e){e.stopPropagation();var t=q(e.calcPoint),s=function(e){var t=100,s=!1;return h.forEach((function(n,a){if(!R(a)){var r=L[a],o=Math.abs(r-e);(o<t||o<=t&&e>r||100===o&&100===t)&&(s=a,t=o)}})),s}(t);!1!==s&&(r.events.snap||o(S,r.cssClasses.tap,r.animationDuration),me(s,t,!0,!0),de(),oe("slide",s,!0),oe("update",s,!0),r.events.snap?te(e,{handleNumbers:[s]}):(oe("change",s,!0),oe("set",s,!0)))}function ne(e){var t=q(e.calcPoint),s=k.getStep(t),n=k.fromStepping(s);Object.keys(F).forEach((function(e){"hover"===e.split(".")[0]&&F[e].forEach((function(e){e.call(be,n)}))}))}function ae(e,t){F[e]=F[e]||[],F[e].push(t),"update"===e.split(".")[0]&&h.forEach((function(e,t){oe("update",t)}))}function re(e){var t=e&&e.split(".")[0],s=t?e.substring(t.length):e;Object.keys(F).forEach((function(e){var n=e.split(".")[0],a=e.substring(n.length);t&&t!==n||s&&s!==a||function(e){return e===C||e===x}(a)&&s!==a||delete F[e]}))}function oe(e,t,s){Object.keys(F).forEach((function(n){var a=n.split(".")[0];e===a&&F[n].forEach((function(e){e.call(be,N.map(r.format.to),t,N.slice(),s||!1,L.slice(),be)}))}))}function ie(e,t,s,n,a,o,l){var c;return h.length>1&&!r.events.unconstrained&&(n&&t>0&&(c=k.getAbsoluteDistance(e[t-1],r.margin,!1),s=Math.max(s,c)),a&&t<h.length-1&&(c=k.getAbsoluteDistance(e[t+1],r.margin,!0),s=Math.min(s,c))),h.length>1&&r.limit&&(n&&t>0&&(c=k.getAbsoluteDistance(e[t-1],r.limit,!1),s=Math.min(s,c)),a&&t<h.length-1&&(c=k.getAbsoluteDistance(e[t+1],r.limit,!0),s=Math.max(s,c))),r.padding&&(0===t&&(c=k.getAbsoluteDistance(0,r.padding[0],!1),s=Math.max(s,c)),t===h.length-1&&(c=k.getAbsoluteDistance(100,r.padding[1],!0),s=Math.min(s,c))),l||(s=k.getStep(s)),!((s=i(s))===e[t]&&!o)&&s}function le(e,t){var s=r.ort;return(s?t:e)+", "+(s?e:t)}function ce(e,t,s,n,a){var o=s.slice(),i=n[0],l=r.events.smoothSteps,c=[!e,e],u=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach((function(e,s){var n=ie(o,e,o[e]+t,c[s],u[s],!1,l);!1===n?t=0:(t=n-o[e],o[e]=n)})):c=u=[!0];var d=!1;n.forEach((function(e,n){d=me(e,s[e]+t,c[n],u[n],!1,l)||d})),d&&(n.forEach((function(e){oe("update",e),oe("slide",e)})),null!=a&&oe("drag",i))}function ue(e,t){return r.dir?100-e-t:e}function de(){P.forEach((function(e){var t=L[e]>50?-1:1,s=3+(h.length+t*e);h[e].style.zIndex=String(s)}))}function me(e,t,s,n,a,o){return a||(t=ie(L,e,t,s,n,!1,o)),!1!==t&&(function(e,t){L[e]=t,N[e]=k.fromStepping(t);var s="translate("+le(ue(t,0)-V+"%","0")+")";h[e].style[r.transformRule]=s,pe(e),pe(e+1)}(e,t),!0)}function pe(e){if(f[e]){var t=0,s=100;0!==e&&(t=L[e-1]),e!==f.length-1&&(s=L[e]);var n=s-t,a="translate("+le(ue(t,n)+"%","0")+")",o="scale("+le(n/100,"1")+")";f[e].style[r.transformRule]=a+" "+o}}function he(e,t){return null===e||!1===e||void 0===e?L[t]:("number"==typeof e&&(e=String(e)),!1!==(e=r.format.from(e))&&(e=k.toStepping(e)),!1===e||isNaN(e)?L[t]:e)}function fe(e,t,s){var n=l(e),a=void 0===L[0];t=void 0===t||t,r.animate&&!a&&o(S,r.cssClasses.tap,r.animationDuration),P.forEach((function(e){me(e,he(n[e],e),!0,!1,s)}));var i=1===P.length?0:1;if(a&&k.hasNoSize()&&(s=!0,L[0]=0,P.length>1)){var c=100/(P.length-1);P.forEach((function(e){L[e]=e*c}))}for(;i<P.length;++i)P.forEach((function(e){me(e,L[e],!0,!0,s)}));de(),P.forEach((function(e){oe("update",e),null!==n[e]&&t&&oe("set",e)}))}function ge(e){if(void 0===e&&(e=!1),e)return 1===N.length?N[0]:N.slice(0);var t=N.map(r.format.to);return 1===t.length?t[0]:t}function ye(e){var t=L[e],s=k.getNearbySteps(t),n=N[e],a=s.thisStep.step,o=null;if(r.snap)return[n-s.stepBefore.startValue||null,s.stepAfter.startValue-n||null];!1!==a&&n+a>s.stepAfter.startValue&&(a=s.stepAfter.startValue-n),o=n>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&n-s.stepBefore.highestStep,100===t?a=null:0===t&&(o=null);var i=k.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(i))),null!==o&&!1!==o&&(o=Number(o.toFixed(i))),[o,a]}u(v=S,r.cssClasses.target),0===r.dir?u(v,r.cssClasses.ltr):u(v,r.cssClasses.rtl),0===r.ort?u(v,r.cssClasses.horizontal):u(v,r.cssClasses.vertical),u(v,"rtl"===getComputedStyle(v).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),p=T(v,r.cssClasses.base),function(e,t){var s=T(t,r.cssClasses.connects);h=[],(f=[]).push(O(s,e[0]));for(var n=0;n<r.handles;n++)h.push(U(t,n)),P[n]=n,f.push(O(s,e[n+1]))}(r.connect,p),(b=r.events).fixed||h.forEach((function(e,t){J(E.start,e.children[0],te,{handleNumbers:[t]})})),b.tap&&J(E.start,p,se,{}),b.hover&&J(E.move,p,ne,{hover:!0}),b.drag&&f.forEach((function(e,t){if(!1!==e&&0!==t&&t!==f.length-1){var s=h[t-1],n=h[t],a=[e],o=[s,n],i=[t-1,t];u(e,r.cssClasses.draggable),b.fixed&&(a.push(s.children[0]),a.push(n.children[0])),b.dragAll&&(o=h,i=P),a.forEach((function(t){J(E.start,t,te,{handles:o,handleNumbers:i,connect:e})}))}})),fe(r.start),r.pips&&K(r.pips),r.tooltips&&$(),re("update"+C),ae("update"+C,(function(e,t,s,n,a){P.forEach((function(e){var t=h[e],n=ie(L,e,0,!0,!0,!0),o=ie(L,e,100,!0,!0,!0),i=a[e],l=String(r.ariaFormat.to(s[e]));n=k.fromStepping(n).toFixed(1),o=k.fromStepping(o).toFixed(1),i=k.fromStepping(i).toFixed(1),t.children[0].setAttribute("aria-valuemin",n),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",i),t.children[0].setAttribute("aria-valuetext",l)}))}));var be={destroy:function(){for(re(C),re(x),Object.keys(r.cssClasses).forEach((function(e){d(S,r.cssClasses[e])}));S.firstChild;)S.removeChild(S.firstChild);delete S.noUiSlider},steps:function(){return P.map(ye)},on:ae,off:re,get:ge,set:fe,setHandle:function(e,t,s,n){if(!((e=Number(e))>=0&&e<P.length))throw new Error("noUiSlider: invalid handle number, got: "+e);me(e,he(t,e),!0,!0,n),oe("update",e),s&&oe("set",e)},reset:function(e){fe(r.start,e)},__moveHandles:function(e,t,s){ce(e,t,L,s)},options:c,updateOptions:function(e,t){var s=ge(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(t){void 0!==e[t]&&(c[t]=e[t])}));var o=W(c);a.forEach((function(t){void 0!==e[t]&&(r[t]=o[t])})),k=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips?K(r.pips):G(),r.tooltips?$():H(),L=[],fe(n(e.start)?e.start:s,t)},target:S,removePips:G,removeTooltips:H,getPositions:function(){return L.slice()},getTooltips:function(){return y},getOrigins:function(){return h},pips:K};return be}function q(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var s=J(e,W(t),t);return e.noUiSlider=s,s}var Z={__spectrum:E,cssClasses:S,create:q};e.create=q,e.cssClasses=S,e.default=Z,Object.defineProperty(e,"__esModule",{value:!0})}(t)}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=[{num:1,photo:"./assets/images/ktm-prowler.webp",manufacturer:"KTM",name:"KTM Prowler Master",year:2020,wheels:29,size:"L",category:"Горный",color:"серый",stock:10,buy:!0,popular:!0},{num:2,photo:"./assets/images/ktm-x-strada.webp",manufacturer:"KTM",name:"KTM X-Strada Prime",year:2022,wheels:28,size:"M",category:"Гравийный",color:"белый",stock:5,buy:!1,popular:!1},{num:3,photo:"./assets/images/ktm-city-fun.webp",manufacturer:"KTM",name:"KTM City Fun 28",year:2021,wheels:28,size:"L",category:"Городской",color:"белый",stock:25,buy:!1,popular:!0},{num:4,photo:"./assets/images/ktm-revelator-alto.webp",manufacturer:"KTM",name:"KTM Revelator Alto Master",year:2022,wheels:28,size:"XL",category:"Шоссейный",color:"красный",stock:2,buy:!1,popular:!1},{num:5,photo:"./assets/images/merida-big-nine.webp",manufacturer:"Merida",name:"Merida Big.Nine 9000",year:2022,wheels:27.5,size:"M",category:"Горный",color:"черный",stock:12,buy:!1,popular:!0},{num:6,photo:"./assets/images/merida-silex.webp",manufacturer:"Merida",name:"Merida Silex 200",year:2019,wheels:28,size:"L",category:"Гравийный",color:"серый",stock:1,buy:!1,popular:!1},{num:7,photo:"./assets/images/merida-scultura.webp",manufacturer:"Merida",name:"Merida Scultura Disc 400",year:2019,wheels:28,size:"M",category:"Шоссейный",color:"синий",stock:3,buy:!1,popular:!1},{num:8,photo:"./assets/images/merida-speeder.webp",manufacturer:"Merida",name:"Merida Speeder 10-V (L)",year:2022,wheels:28,size:"S",category:"Городской",color:"серый",stock:13,buy:!1,popular:!0},{num:9,photo:"./assets/images/giant-cypress.webp",manufacturer:"Giant",name:"Giant Cypress 1",year:2021,wheels:28,size:"M",category:"Городской",color:"синий",stock:7,buy:!0,popular:!0},{num:10,photo:"./assets/images/giant-stp.webp",manufacturer:"Giant",name:"Giant STP 26",year:2020,wheels:26,size:"L",category:"Горный",color:"серый",stock:15,buy:!1,popular:!0},{num:11,photo:"./assets/images/giant-revolt.webp",manufacturer:"Giant",name:"Giant Revolt 0",year:2022,wheels:29,size:"XL",category:"Гравийный",color:"белый",stock:7,buy:!1,popular:!1},{num:12,photo:"./assets/images/giant-tcr-advanced.webp",manufacturer:"Giant",name:"Giant TCR Advanced 3",year:2020,wheels:28,size:"M",category:"Шоссейный",color:"белый",stock:1,buy:!1,popular:!1},{num:13,photo:"./assets/images/fuji-traverse.webp",manufacturer:"FUJI",name:"FUJI Traverse 1.3",year:2018,wheels:27.5,size:"M",category:"Горный",color:"оранжевый",stock:1,buy:!1,popular:!1},{num:14,photo:"./assets/images/fuji-absolute.webp",manufacturer:"FUJI",name:"FUJI Absolute 1.9",year:2020,wheels:28,size:"M",category:"Городской",color:"синий",stock:11,buy:!1,popular:!0},{num:15,photo:"./assets/images/fuji-sl-a.webp",manufacturer:"FUJI",name:"FUJI SL-A 1.3",year:2022,wheels:28,size:"XL",category:"Шоссейный",color:"синий",stock:1,buy:!1,popular:!1},{num:16,photo:"./assets/images/aist-mach.webp",manufacturer:"AIST",name:"AIST Mach 1.0",year:2017,wheels:28,size:"L",category:"Шоссейный",color:"серый",stock:13,buy:!1,popular:!0},{num:17,photo:"./assets/images/aist-slide.webp",manufacturer:"AIST",name:"AIST Slide 3.0",year:2017,wheels:27.5,size:"S",category:"Горный",color:"черный",stock:10,buy:!0,popular:!0},{num:18,photo:"./assets/images/aist-tracker.webp",manufacturer:"AIST",name:"AIST Tracker 2.0",year:2018,wheels:26,size:"S",category:"Городской",color:"оранжевый",stock:20,buy:!1,popular:!0},{num:19,photo:"./assets/images/aist-cross.webp",manufacturer:"AIST",name:"AIST Cross 2.0",year:2019,wheels:28,size:"L",category:"Городской",color:"серый",stock:5,buy:!1,popular:!1},{num:20,photo:"./assets/images/format-1411.webp",manufacturer:"Format",name:"Format 1411 27,5",year:2021,wheels:27.5,size:"M",category:"Горный",color:"серый",stock:12,buy:!1,popular:!0},{num:21,photo:"./assets/images/format-2221.webp",manufacturer:"Format",name:"Format 2221",year:2022,wheels:28,size:"XL",category:"Шоссейный",color:"красный",stock:2,buy:!1,popular:!1},{num:22,photo:"./assets/images/format-5211.webp",manufacturer:"Format",name:"Format 5211",year:2022,wheels:28,size:"L",category:"Гравийный",color:"серый",stock:3,buy:!1,popular:!1},{num:23,photo:"./assets/images/format-5522.webp",manufacturer:"Format",name:"Format 5522",year:2022,wheels:26,size:"S",category:"Городской",color:"красный",stock:13,buy:!1,popular:!0}],t=class{drawValues(){const e=document.createElement("div");e.className="values-filter-container",document.getElementsByClassName("sort-container")[0].after(e),this.fillManufacturersFilter(e),this.fillWheelSizeFilter(e),this.fillFrameSizeFilter(e),this.fillColorFilter(e),this.fillCategoryFilter(e),this.addOnlyPopular(e)}fillManufacturersFilter(t){const s=[...new Set(e.map((e=>e.manufacturer)))].sort(),n=document.createElement("div");n.classList.add("values-filter","manufacturer-filter");const a=document.createElement("p");a.classList.add("filter-name","manufacturer-filter-name"),a.textContent="Производитель",t.append(a),s.forEach((e=>{const t=document.createElement("label");t.classList.add("label","manufacturer-label");const s=document.createElement("input");s.type="checkbox",s.classList.add("checkbox","checkbox-manufacturer"),s.checked=!1,s.value=e;const a=document.createElement("span");a.textContent=e,t.append(s,a),n.append(t)})),t.append(n)}fillWheelSizeFilter(t){const s=[...new Set(e.map((e=>e.wheels)))].sort(),n=document.createElement("div");n.classList.add("values-filter","wheels-filter");const a=document.createElement("p");a.classList.add("filter-name","wheels-filter-name"),a.textContent="Размер колёс",t.append(a),s.forEach((e=>{const t=document.createElement("label");t.classList.add("label","wheels-label");const s=document.createElement("input");s.type="checkbox",s.checked=!1,s.classList.add("checkbox","checkbox-wheels"),s.value=e.toString();const a=document.createElement("span");a.textContent=e.toString(),t.append(s,a),n.append(t)})),t.append(n)}fillFrameSizeFilter(t){const s={S:0,M:1,L:2,XL:3},n=[...new Set(e.map((e=>e.size)))].sort(((e,t)=>s[e]-s[t])),a=document.createElement("div");a.classList.add("values-filter","frame-filter");const r=document.createElement("p");r.classList.add("filter-name","frame-filter-name"),r.textContent="Размер рамы",t.append(r),n.forEach((e=>{const t=document.createElement("label");t.classList.add("label","frame-label");const s=document.createElement("input");s.type="checkbox",s.checked=!1,s.classList.add("checkbox","checkbox-frame"),s.value=e.toString();const n=document.createElement("span");n.textContent=e.toString(),t.append(s,n),a.append(t)})),t.append(a)}fillColorFilter(t){const s=[...new Set(e.map((e=>e.color)))].sort(),n=document.createElement("div");n.classList.add("values-filter","color-filter");const a=document.createElement("p");a.classList.add("filter-name","color-filter-name"),a.textContent="Цвет",t.append(a),s.forEach((e=>{const t=document.createElement("label");t.classList.add("label","color-label");const s=document.createElement("input");s.type="checkbox",s.checked=!1,s.classList.add("checkbox","checkbox-color"),s.value=e;const a=document.createElement("span");a.textContent=e,t.append(s,a),n.append(t)})),t.append(n)}fillCategoryFilter(t){const s=[...new Set(e.map((e=>e.category)))].sort(),n=document.createElement("div");n.classList.add("values-filter","category-filter");const a=document.createElement("p");a.classList.add("filter-name","category-filter-name"),a.textContent="Категория",t.append(a),s.forEach((e=>{const t=document.createElement("label");t.classList.add("label","category-label");const s=document.createElement("input");s.type="checkbox",s.checked=!1,s.classList.add("checkbox","checkbox-category"),s.value=e;const a=document.createElement("span");a.textContent=e,t.append(s,a),n.append(t)})),t.append(n)}addOnlyPopular(e){const t=document.createElement("div");t.classList.add("values-filter","popular-filter");const s=document.createElement("label");s.classList.add("label","popular-label");const n=document.createElement("input");n.type="checkbox",n.checked=!1,n.classList.add("checkbox","checkbox-popular"),n.value="false";const a=document.createElement("span");a.textContent="Только популярные",s.append(a,n),t.append(s),e.append(t)}};var n=s(570),a=s.n(n);const r=class{constructor(){this.bikeCards=document.getElementsByClassName("card")}drawSliders(){const e=document.createElement("div");e.className="ranges-filter-container",document.getElementsByClassName("values-filter-container")[0].after(e),this.drawSliderByYear(e),this.drawSliderByStock(e)}workWithYearSlider(e){const t=e=>{var t;const s=e.map((e=>+e.split(".")[0]));for(let e=0;e<this.bikeCards.length;e+=1){const n=this.bikeCards[e],a=null===(t=n.getElementsByClassName("card-year")[0].textContent)||void 0===t?void 0:t.split(": ")[1],r=document.getElementsByClassName("no-results")[0];+a>=s[0]&&+a<=s[1]?n.classList.contains("unfiltered7")&&n.classList.remove("unfiltered7"):n.classList.contains("unfiltered7")||n.classList.add("unfiltered7");let o=0;for(let e=0;e<this.bikeCards.length;e+=1)this.bikeCards[e].className.split(" ").some((e=>/unfiltered(\d)*/.test(e)))&&(o+=1);o===this.bikeCards.length?r.style.display="block":r.style.display="none"}};e.on("change",(e=>t(e)))}workWithStockSlider(e){const t=e=>{var t;const s=e.map((e=>+e.split(".")[0]));for(let e=0;e<this.bikeCards.length;e+=1){const n=this.bikeCards[e],a=null===(t=n.getElementsByClassName("card-stock-amount")[0].textContent)||void 0===t?void 0:t.split(": ")[1],r=document.getElementsByClassName("no-results")[0];+a>=s[0]&&+a<=s[1]?n.classList.contains("unfiltered8")&&n.classList.remove("unfiltered8"):n.classList.contains("unfiltered8")||n.classList.add("unfiltered8");let o=0;for(let e=0;e<this.bikeCards.length;e+=1)this.bikeCards[e].className.split(" ").some((e=>/unfiltered(\d)*/.test(e)))&&(o+=1);o===this.bikeCards.length?r.style.display="block":r.style.display="none"}};e.on("change",(e=>t(e)))}drawSliderByYear(t){const s=document.createElement("p");s.classList.add("ranges-name","year-ranges-name"),s.textContent="Модельный год",t.append(s);const n=document.createElement("div");n.classList.add("slider","year-slider");const r=a().create(n,{start:[Math.min(...e.map((e=>e.year))),Math.max(...e.map((e=>e.year)))],range:{min:Math.min(...e.map((e=>e.year))),max:Math.max(...e.map((e=>e.year)))},step:1,tooltips:[{from:e=>+e,to:e=>e},{from:e=>+e,to:e=>e}],connect:!0});this.workWithYearSlider(r),t.append(n)}drawSliderByStock(t){const s=document.createElement("p");s.classList.add("ranges-name","stock-ranges-name"),s.textContent="Количество на складе",t.append(s);const n=document.createElement("div");n.classList.add("slider","stock-slider");const r=a().create(n,{start:[Math.min(...e.map((e=>e.stock))),Math.max(...e.map((e=>e.stock)))],range:{min:Math.min(...e.map((e=>e.stock))),max:Math.max(...e.map((e=>e.stock)))},step:1,tooltips:[{from:e=>+e,to:e=>e.toFixed(0)},{from:e=>+e,to:e=>e.toFixed(0)}],connect:!0});this.workWithStockSlider(r),t.append(n)}},o=class{drawSearchField(){const e=document.createElement("div");e.className="search-container";const t=document.createElement("p");t.className="search-name",t.textContent="Поиск",e.append(t);const s=document.createElement("input");s.className="search",s.autofocus=!0,s.type="search",s.placeholder="Что ищем?",e.append(s),document.getElementsByClassName("filters")[0].prepend(e)}},i=class{constructor(){this.bikeCards=document.getElementsByClassName("card")}searchOnPage(){const e=document.getElementsByClassName("search")[0],t=document.getElementsByClassName("no-results")[0];e.addEventListener("input",(()=>{var s;for(let n=0;n<this.bikeCards.length;n+=1){const a=this.bikeCards[n];(null===(s=a.getElementsByClassName("card-name")[0].textContent)||void 0===s?void 0:s.toLowerCase()).includes(e.value)?a.classList.contains("unfiltered")&&a.classList.remove("unfiltered"):a.classList.add("unfiltered");let r=0;for(let e=0;e<this.bikeCards.length;e+=1)this.bikeCards[e].className.split(" ").some((e=>/unfiltered(\d)*/.test(e)))&&(r+=1);r===this.bikeCards.length?t.style.display="block":t.style.display="none"}}))}},l=class{constructor(){this.filters={manufacturers:[],wheelSize:[],frameSize:[],colors:[],categories:[],popular:!1},this.bikeCards=document.getElementsByClassName("card"),this.popularFilter=document.getElementsByClassName("checkbox-popular"),this.manufacturerFilter=document.getElementsByClassName("checkbox-manufacturer"),this.wheelSizeFilter=document.getElementsByClassName("checkbox-wheels"),this.frameSizeFilter=document.getElementsByClassName("checkbox-frame"),this.colorFilter=document.getElementsByClassName("checkbox-color"),this.categoryFilter=document.getElementsByClassName("checkbox-category")}resetFilters(){this.filters={manufacturers:[],wheelSize:[],frameSize:[],colors:[],categories:[],popular:!1}}applyFilters(){var e;const t=()=>{var e,t;for(let s=0;s<this.bikeCards.length;s+=1){const n=this.bikeCards[s];this.filters.popular?"нет"===(null===(e=n.getElementsByClassName("card-popular")[0].textContent)||void 0===e?void 0:e.split(": ")[1])&&(n.classList.contains("unfiltered1")||n.classList.add("unfiltered1")):n.classList.contains("unfiltered1")&&n.classList.remove("unfiltered1");const a=["manufacturers","wheelSize","frameSize","colors","categories"],r=["manufacturer","wheel-size","frame-size","color","category"];for(let e=0;e<a.length;e+=1)if(this.filters[a[e]].length>0){const s=null===(t=n.getElementsByClassName(`card-${r[e]}`)[0].textContent)||void 0===t?void 0:t.split(": ")[1].replace('"',"");this.filters[a[e]].includes(s)?n.classList.contains(`unfiltered${e+2}`)&&n.classList.remove(`unfiltered${e+2}`):n.classList.contains(`unfiltered${e+2}`)||n.classList.add(`unfiltered${e+2}`)}else n.classList.contains(`unfiltered${e+2}`)&&n.classList.remove(`unfiltered${e+2}`);let o=0;for(let e=0;e<this.bikeCards.length;e+=1)this.bikeCards[e].className.split(" ").some((e=>/unfiltered(\d)*/.test(e)))&&(o+=1);o===this.bikeCards.length?document.getElementsByClassName("no-results")[0].style.display="block":document.getElementsByClassName("no-results")[0].style.display="none"}},s=(e,s)=>{const n=e.target;n.checked?this.filters[s].push(n.value):this.filters[s]=this.filters[s].filter((e=>e!==n.value)),t()};null===(e=this.popularFilter.item(0))||void 0===e||e.addEventListener("click",(()=>{this.filters.popular=!this.filters.popular,t()}));for(let e=0;e<this.manufacturerFilter.length;e+=1)this.manufacturerFilter[e].addEventListener("click",(e=>s(e,"manufacturers")));for(let e=0;e<this.wheelSizeFilter.length;e+=1)this.wheelSizeFilter[e].addEventListener("click",(e=>s(e,"wheelSize")));for(let e=0;e<this.frameSizeFilter.length;e+=1)this.frameSizeFilter[e].addEventListener("click",(e=>s(e,"frameSize")));for(let e=0;e<this.colorFilter.length;e+=1)this.colorFilter[e].addEventListener("click",(e=>s(e,"colors")));for(let e=0;e<this.categoryFilter.length;e+=1)this.categoryFilter[e].addEventListener("click",(e=>s(e,"categories")))}};s(515),(new class{constructor(){this.search=new i,this.appView=new class{constructor(){this.main=new class{constructor(){this.filters=new class{constructor(){this.values=new t,this.range=new r,this.search=new o,this.sort=new class{drawSortField(){const e=document.createElement("div");e.className="sort-container";const t=document.createElement("p");t.className="sort-name",t.textContent="Сортировать";const s=document.createElement("select");s.className="sort";const n=document.createElement("option");n.setAttribute("selected",""),n.textContent="По названию, от A до Z";const a=document.createElement("option");a.textContent="По названию, от Z до A";const r=document.createElement("option");r.textContent="По году, по возрастанию";const o=document.createElement("option");o.textContent="По году, по убыванию",s.append(n,a,r,o),e.append(t,s),document.getElementsByClassName("filters")[0].append(e)}},this.reset=new class{drawResetButtons(){const e=document.createElement("div");e.className="reset-buttons";const t=document.createElement("button");t.classList.add("reset-button","reset-filters-button"),t.textContent="Сбросить фильтры",e.append(t),document.getElementsByClassName("filters")[0].append(e)}}}drawFilters(){const e=document.createElement("section");e.className="filters",document.getElementsByClassName("main-container")[0].prepend(e),this.search.drawSearchField(),this.sort.drawSortField(),this.values.drawValues(),this.range.drawSliders(),this.reset.drawResetButtons()}},this.cards=new class{constructor(){this.card=new class{drawCard(){e.forEach((e=>{const t=document.createElement("div");t.className="card",t.setAttribute("data-bike-num",e.num.toString());const s=document.createElement("h2");s.className="card-name",s.textContent=e.name;const n=document.createElement("img");n.className="card-image",n.alt=`${e.name}`,n.src=e.photo;const a=document.createElement("div");a.className="card-info-all";const r=document.createElement("div");r.className="card-bag";const o=document.createElement("div");o.className="card-info";const i=document.createElement("p");i.className="card-manufacturer",i.textContent=`Производитель: ${e.manufacturer}`;const l=document.createElement("p");l.className="card-year",l.textContent=`Модельный год: ${e.year}`;const c=document.createElement("p");c.className="card-category",c.textContent=`Категория: ${e.category}`;const u=document.createElement("p");u.className="card-wheel-size",u.textContent=`Размер колёс: ${e.wheels}"`;const d=document.createElement("p");d.className="card-frame-size",d.textContent=`Размер рамы: ${e.size}`;const m=document.createElement("p");m.className="card-color",m.textContent=`Цвет: ${e.color}`;const p=document.createElement("p");p.className="card-stock-amount",p.textContent=`Количество на складе: ${e.stock}`;const h=document.createElement("p");h.className="card-popular",h.textContent="Популярный: "+(e.popular?"да":"нет"),o.append(i,l,c,u,d,m,p,h),a.append(o,r),t.append(s,n,a),document.getElementsByClassName("cards")[0].append(t)}))}}}drawCards(){const e=document.createElement("div");e.className="cards",document.getElementsByClassName("main-container")[0].append(e),this.card.drawCard(),this.drawNoResultsStub(e)}drawNoResultsStub(e){const t=document.createElement("p");t.className="no-results",t.textContent="Извините, совпадений не обнаружено",e.append(t)}}}drawMain(){const e=document.getElementsByClassName("main")[0],t=document.createElement("div");t.classList.add("container","main-container"),e.append(t),this.filters.drawFilters(),this.cards.drawCards();const s=document.createElement("div");s.className="modal";const n=document.createElement("p");n.className="no-more-buy",n.textContent="Извините, все слоты заполнены",s.append(n);const a=document.createElement("div");a.className="darken",e.append(s,a)}},this.footer=new class{drawFooter(){const e=document.createElement("div");e.classList.add("container","footer-container");const t=document.createElement("div");t.className="footer-data";const s=document.createElement("span");s.className="copy-year",s.textContent="© 2022";const n=document.createElement("span");n.className="github";const a=document.createElement("a");a.className="github-link",a.setAttribute("href","https://github.com/sylarBrest"),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener noreferrer"),a.textContent="sylarBrest",n.append(a),t.append(s,n);const r=document.createElement("a");r.className="rss-logo",r.setAttribute("href","https://rs.school/js-stage0/"),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("title","Rolling Scope School"),e.append(t,r),document.getElementsByClassName("footer")[0].append(e)}},this.header=new class{drawHeader(){const e=document.createElement("div");e.classList.add("container","header-container");const t=document.createElement("div");t.className="store-logo";const s=document.createElement("h1");s.className="store-name",s.textContent="Bicycle Online Store";const n=document.createElement("div");n.className="store-cart";const a=document.createElement("p");a.className="store-cart-count";const r=document.createElement("span");r.className="store-cart-count-number",r.textContent="0",a.append(r),n.append(a),e.append(t,s,n),document.getElementsByClassName("header")[0].append(e)}}}drawComponents(){this.header.drawHeader(),this.main.drawMain(),this.footer.drawFooter()}},this.shopping=new class{constructor(){this.count=0}makeShopping(){const e=document.getElementsByClassName("card"),t=e=>{const t=e.currentTarget,s=t.getElementsByClassName("card-bag")[0],n=document.getElementsByClassName("store-cart-count-number")[0];s.classList.contains("in-cart")?(s.classList.remove("in-cart"),t.classList.remove("in-cart"),this.count-=1):this.count<20?(s.classList.add("in-cart"),t.classList.add("in-cart"),this.count+=1):(document.getElementsByClassName("modal")[0].classList.add("open"),document.getElementsByClassName("darken")[0].classList.add("open"),document.getElementsByTagName("body")[0].classList.add("open")),n.textContent=`${this.count}`};for(let s=0;s<e.length;s+=1)e[s].addEventListener("click",t);document.getElementsByClassName("darken")[0].addEventListener("click",(e=>{e.target&&e.target instanceof HTMLElement&&e.target.classList.contains("darken")&&(document.getElementsByClassName("modal")[0].classList.remove("open"),document.getElementsByClassName("darken")[0].classList.remove("open"),document.getElementsByTagName("body")[0].classList.remove("open"))}))}},this.filters=new l,this.sorting=new class{constructor(){this.bikeCards=document.getElementsByClassName("card"),this.bikeStorage=new class{constructor(e=document.getElementsByClassName("card")){this.bikeCardsAll=e,this.bikeCards=[]}initBikeStorage(){this.bikeCards.push(...this.bikeCardsAll)}getBikesFromStorage(){return this.bikeCards}setBikesToStorage(e){this.bikeCards.push(...e)}removeBikesFromStorage(){this.bikeCards=[]}writeBikeStorageToDOM(e){this.setBikesToStorage(e),document.getElementsByClassName("cards")[0].append(...e)}}(this.bikeCards)}sortElements(){const e=document.getElementsByClassName("sort")[0];this.bikeStorage.initBikeStorage();const t=()=>{const t=this.bikeStorage.getBikesFromStorage();switch(this.bikeStorage.removeBikesFromStorage(),e.selectedOptions[0]){case e.options[0]:t.sort(((e,t)=>{var s,n;return(null===(s=e.getElementsByClassName("card-name")[0].textContent)||void 0===s?void 0:s.toLowerCase())<(null===(n=t.getElementsByClassName("card-name")[0].textContent)||void 0===n?void 0:n.toLowerCase())?-1:1}));break;case e.options[1]:t.sort(((e,t)=>{var s,n;return(null===(s=e.getElementsByClassName("card-name")[0].textContent)||void 0===s?void 0:s.toLowerCase())>(null===(n=t.getElementsByClassName("card-name")[0].textContent)||void 0===n?void 0:n.toLowerCase())?-1:1}));break;case e.options[2]:t.sort(((e,t)=>{var s,n;return(null===(s=e.getElementsByClassName("card-year")[0].textContent)||void 0===s?void 0:s.split(": ")[1])<(null===(n=t.getElementsByClassName("card-year")[0].textContent)||void 0===n?void 0:n.split(": ")[1])?-1:1}));break;case e.options[3]:t.sort(((e,t)=>{var s,n;return(null===(s=e.getElementsByClassName("card-year")[0].textContent)||void 0===s?void 0:s.split(": ")[1])>(null===(n=t.getElementsByClassName("card-year")[0].textContent)||void 0===n?void 0:n.split(": ")[1])?-1:1}))}this.bikeStorage.writeBikeStorageToDOM(t)};document.addEventListener("DOMContentLoaded",t),e.addEventListener("change",t);const s=document.getElementsByClassName("checkbox");for(let e=0;e<s.length;e+=1)s[e].addEventListener("click",t)}},this.resetting=new class{constructor(){this.search=new o,this.makeSearch=new i,this.values=new t,this.applyFilters=new l,this.ranges=new r}resetFilters(){const e=document.getElementsByClassName("reset-filters-button")[0],t=document.getElementsByClassName("card");e.addEventListener("click",(()=>{document.getElementsByClassName("search-container")[0].remove(),this.search.drawSearchField(),this.makeSearch.searchOnPage(),document.getElementsByClassName("values-filter-container")[0].remove(),this.values.drawValues(),this.applyFilters.resetFilters(),this.applyFilters.applyFilters(),document.getElementsByClassName("ranges-filter-container")[0].remove(),this.ranges.drawSliders();for(let e=0;e<t.length;e+=1){const s=t[e],n=["unfiltered","unfiltered1","unfiltered2","unfiltered3","unfiltered4","unfiltered5","unfiltered6","unfiltered7","unfiltered8"];for(let e=0;e<n.length;e+=1)s.classList.contains(n[e])&&s.classList.remove(n[e])}document.getElementsByClassName("no-results")[0].removeAttribute("style")}))}}}start(){this.appView.drawComponents(),this.sorting.sortElements(),this.search.searchOnPage(),this.shopping.makeShopping(),this.filters.applyFilters(),this.resetting.resetFilters()}}).start()})()})();